package com.pcep.close;

import java.util.LinkedList;

import com.pcee.logger.Logger;
import com.pcep.message.PCEPMessage;
import com.pcep.message.objectframe.PCEPObjectFrame;
import com.pcep.message.objectframe.PCEPObjectFrameFactory;
import com.pcep.message.objectframe.impl.PCEPCloseObject;

public class PCEPCloseFrameFactory {

	public static PCEPCloseFrame generateCloseFrame(PCEPCloseObject closeObject) {

		PCEPCloseFrame closeFrame = new PCEPCloseFrame(closeObject);

		return closeFrame;
	}

	public static PCEPCloseFrame generateCloseFrame(int reason, String pFlag, String iFlag) {

		PCEPCloseObject closeObject = PCEPObjectFrameFactory.generatePCEPCloseObject(pFlag, iFlag, reason);
		PCEPCloseFrame closeFrame = new PCEPCloseFrame(closeObject);

		return closeFrame;
	}

	public static PCEPCloseFrame getCloseFrame(PCEPMessage message) {

		LinkedList<PCEPObjectFrame> objectList = message.getObjectsList();

		if (objectList.size() != 1) {
			localLogger("Wrong OpenMessage Format!");
			return null; // TODO
		}

		PCEPCloseObject closeObject = (PCEPCloseObject) objectList.get(0);

		return new PCEPCloseFrame(closeObject);

	}

	private static void localLogger(String event) {
		Logger.logSystemEvents("[PCEPCloseFrameFactory] " + event);
	}

	private static void localDebugger(String event) {
		Logger.debugger("[PCEPCloseFrameFactory] " + event);
	}

}
